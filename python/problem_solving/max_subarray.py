
# A = [ -120, -202, -293, -60, -261, -67, 10, 82, -334, -393, -428, -182, -138, -167, -465, -347, -39, -51, -61, -491, -216, -36, -281, -361, -271, -368, -122, -114, -53, -488, -327, -182, -221, -381, -431, -161, -59, -494, -406, -298, -268, -425, -88, -320, -371, -5, 36, 89, -194, -140, -278, -65, -38, -144, -407, -235, -426, -219, 62, -299, 1, -454, -247, -146, 24, 2, -59, -389, -77, -19, -311, 18, -442, -186, -334, 41, -84, 21, -100, 65, -491, 94, -346, -412, -371, 89, -56, -365, -249, -454, -226, -473, 91, -412, -30, -248, -36, -95, -395, -74, -432, 47, -259, -474, -409, -429, -215, -102, -63, 80, 65, 63, -452, -462, -449, 87, -319, -156, -82, 30, -102, 68, -472, -463, -212, -267, -302, -471, -245, -165, 43, -288, -379, -243, 35, -288, 62, 23, -444, -91, -24, -110, -28, -305, -81, -169, -348, -184, 79, -262, 13, -459, -345, 70, -24, -343, -308, -123, -310, -239, 83, -127, -482, -179, -11, -60, 35, -107, -389, -427, -210, -238, -184, 90, -211, -250, -147, -272, 43, -99, 87, -267, -270, -432, -272, -26, -327, -409, -353, -475, -210, -14, -145, -164, -300, -327, -138, -408, -421, -26, -375, -263, 7, -201, -22, -402, -241, 67, -334, -452, -367, -284, -95, -122, -444, -456, -152, 25, 21, 61, -320, -87, 98, 16, -124, -299, -415, -273, -200, -146, -437, -457, 75, 84, -233, -54, -292, -319, -99, -28, -97, -435, -479, -255, -234, -447, -157, 82, -450, 86, -478, -58, 9, -500, -87, 29, -286, -378, -466, 88, -366, -425, -38, -134, -184, 32, -13, -263, -371, -246, 33, -41, -192, -14, -311, -478, -374, -186, -353, -334, -265, -169, -418, 63, 77, 77, -197, -211, -276, -190, -68, -184, -185, -235, -31, -465, -297, -277, -456, -181, -219, -329, 40, -341, -476, 28, -313, -78, -165, -310, -496, -450, -318, -483, -22, -84, 83, -185, -140, -62, -114, -141, -189, -395, -63, -359, 26, -318, 86, -449, -419, -2, 81, -326, -339, -56, -123, 10, -463, 41, -458, -409, -314, -125, -495, -256, -388, 75, 40, -37, -449, -485, -487, -376, -262, 57, -321, -364, -246, -330, -36, -473, -482, -94, -63, -414, -159, -200, -13, -405, -268, -455, -293, -298, -416, -222, -207, -473, -377, -167, 56, -488, -447, -206, -215, -176, 76, -304, -163, -28, -210, -18, -484, 45, 10, 79, -441, -197, -16, -145, -422, -124, 79, -464, -60, -214, -457, -400, -36, 47, 8, -151, -489, -327, 85, -297, -395, -258, -31, -56, -500, -61, -18, -474, -426, -162, -79, 25, -361, -88, -241, -225, -367, -440, -200, 38, -248, -429, -284, -23, 19, -220, -105, -81, -269, -488, -204, -28, -138, 39, -389, 40, -263, -297, -400, -158, -310, -270, -107, -336, -164, 36, 11, -192, -359, -136, -230, -410, -66, 67, -396, -146, -158, -264, -13, -15, -425, 58, -25, -241, 85, -82, -49, -150, -37, -493, -284, -107, 93, -183, -60, -261, -310, -380 ]

# max sum of consecutive numbers in array
#A=[1,2,3,4,-10,11,-17,5]


def asd(a):
    max_start, max_stop = 0, 1 # Start, Stop of maximum sub-array
    curr = 0                   # pointer to current array
    max_sum = A[0]         # Sum of maximum array
    current_sum = 0            # sum of current array

    for i, elem in enumerate(A):
        current_sum +=  elem

        if max_sum < current_sum:
            max_sum = current_sum
            max_start = curr
            max_stop = i  + 1
        if current_sum < 0:
            current_sum = 0
            curr = i + 1

    return  max_sum


def maxSubArray_best(A):
    maxsum = cursum = A[0]
    for a in A[1:]:
        cursum = max(cursum + a, a)
        maxsum = max(cursum, maxsum)
    return maxsum


def maxSubArray_light(A):
    length = len(A)
    csum = A[0]
    maxsum = A[0]
    start = 1
    end = 1
    maxstart = 1
    maxend = 1
    i = 1
    while (i < length):
        csum = max(A[i], csum + A[i])
        maxsum = max(csum, maxsum)
        i = i + 1
    return maxsum


def maxSubArray_fast(A):
    neg = 0
    for i in A:
        if i<0:
            neg+=1
    if neg == len(A):
        return max(A)
    else:
        s = 0
        m=0
        for i in range(0,len(A)):
            s+=A[i]
            if s>m:
                m=s
            if s<=0:
                s=0
        return m

arr=[1,2,3,4,-10,11,-17,5]
A = [ -340, -128, -307, -480, -420, -80, 52, -185, -308, -275, -13, 49, -153, -86, -122, 3, -368, -1, -6, -292, -22, -207, -275, -19, -460, -341, -201, 83, -216, -118, -496, -97, -208, 88, -14, -263, -265, -428, -102, -41, -268, 81, 69, 34, -401, 93, -116, -197, -121, -93, -63, -390, 26, -42, -491, 74, -497, -3, 71, -399, -239, 84, -335, -464, -451, -21, -337, -457, -77, -109, -313, -22, -386, -51, -271, -203, -181, -153, -165, -306, 76, -322, 62, -325, 54, -222, -187, -385, -398, -57, -152, 63, -467, -5, -269, -344, -199, 21, -223, -339, 91, 67, -394, -396, -78, -138, -227, -84, -235, 91, -417, -27, -56, -122, -313, -122, -327, 14, -192, -250, -433, -399, 52, -363, -471, -438, -455, -404, -5, -498, -293, -133, 42, -222, -306, 73, -272, -176, -230, -217, -225, -245, -64, -406, -172, -144, -404, -379, -133, -49, -124, -304, -50, 87, -326, -115, -44, -83, -351, -126, 21, -252, -203, 68, -343, -6, -25, -260, -429, -472, -288, -215, -56, -96, -430, -474, 55, -265, -385, -180, -238, 85, -144, -114, -183, -53, -418, -266, -498, -84, -358, -247, -484, -144, -58, -278, 96, -204, -266, -332, 70, -479, -181, -343, -166, -84, -176, -156, 18, -339, -404, -17, -428, -455, -121, 39, 67, -271, -4, 35, -364, -144, -165, -488, -96, -64, -425, -171, 93, -5, -405, -323, -499, -437, -416, -350, -460, -273, -39, -237, -24, -57, -151, -449, -242, -426, -498, 80, 21, -344, -276, -41, -421, -214, 46, -174, -197, -51, -317, -51, 95, -200, 100, -434, -121, -130, -176, -195, 55, -129, 14, 45, -53, -287, -213, -70, -427, -354, -97, -367, -277, -111, -350, -151, -387, -260, -392, -68, -396, -396, -397, -429, -335, -333, -417, -55, -8, -44, -388, -133, -404, -497, -332, -485, 94, 43, 4, -334, -269, -406, -90, -44, -22, -343, -437, -419, 99, -2, -228, -345, -351, -118, 99, -381, -177, -356, 40, -12, -319, -110, 45, -396, -61, 61, -287, -336, -106, -182, -344, -45, -61, -120, -473, -139, -166, 21, -350, 14, -445, -457, -348, -228, -376, -199, -353, -394, -284, -474, -6, -229, -40, -164, -287, -361, -171, -462, -460, -246, 52, -453, -146, -253, -21, 91, -390, 60, -177, -250, -286, 12, 3, -307, -340, 32, -45, -49, -357, 23, 21, -359, -28, -92, -485, -207, 20, -480, -142, -411, -240, -287, -430, 92, -56, -358, -60, -51, -121, -176, 36, -218, -295, -4, -6, 54, -325, -225, 64, -121, -303, -91, -361, -371, -300, -232, -457, -40, -84, -241, 57, -46, -230, -438, -23, 80, -38, -395, -340, -348, -301, -400, -371, -451, -207, -392, -280, -260, -433, -239, -185, -205, -330, -484, -309, -351, -76, -358, -198, -337, -316, -132, -126, -28, 19, -45, -16, -132, -451, -418, -90, -479, -217, 22, -212, -222, 86, -303, -398, -47, 70, -441, -387, -315, -46, -369, 22, -35, -83, 54, -54, 25, -57, -211, -397, -32, -100, -354, -303, -401, -48, -333, -30, -96, 81, 11, -362, -76, -83, -98, -231, 78, -236, 79, 94, 69, -114, -446, -204, -414, -60, 59, -153, -485, 87, -233, -464, -455, -9, -53, -192, -235, 32, -318, -186, -271, -87, -457, -461, -75, -45, -415, -404, 54, -389, -406, -371, -63, -339, 92, 35, -284, -60, -370, 1, -79, -57, -268, 76, -137, -259, -8, -76, -84, 3, 97, -312, -197, -115, -256, -60, -58, 31, -141, -11, -116, -324, -219, -222, -101, -341, -329, -409, -460, -16, 78, -141, -428, -350, -29, -44, -127, -32, -283, -467, -386, -288, -16, -278, -240, -284, -259, -382, -368, -62, -441, 16, -117, -81, -311, -494, -221, -97, -396, -402, 63, -371, -109, -375, -449, 100, 63, 50, -194, -290, 1, -412, -457, -308, 56, -306, 18, -93, -177, 44, 11, -72, -73, -481, -460, 5, -313, 21, -460, -42, -106, -340, -27, -158, 59, -377, -91, 7, -491, -305, -74, -347, -437, -275, -152, -166, -222, -238, 54, -216, -276, -265, 21, -309, -10, 73, -10, 93, 13, -457, -263, -358, -386, -409, -350, 85, -216, 24, -255, -209, -86, -438, -121, -220, -450, -136, -55, -62, -172, -416, 38, -175, -77, -278, -476, -137, -457, -45, -390, -226, -188, -185, -164, -406, -423, -355, -376, -312, 11, -363, -234 ]

a = maxSubArray_best(A)
print(a)

A = [-340]
cur = max_sum = A[0]
for num in A[1:]:
    cur = max(cur + num, num)
    max_sum = max(cur, max_sum)
print(max_sum)













